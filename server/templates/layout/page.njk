<!DOCTYPE html>
<html lang="{{ locale }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.meta.title or page.name }}</title>
  {% if page.meta.description %}
  <meta name="description" content="{{ page.meta.description }}">
  {% endif %}
  <link rel="stylesheet" href="/assets/styles.css">
</head>
<body>
  {{ content | safe }}

  <script>
    // Mobile menu toggle
    document.addEventListener('DOMContentLoaded', function() {
      const header = document.querySelector('.header');
      if (!header) return;

      const hamburger = header.querySelector('.header__hamburger');
      const closeBtn = header.querySelector('.header__mobile-close');
      const mobilePanel = header.querySelector('.header__mobile-panel');
      const overlay = header.querySelector('.header__overlay');
      const mobileLinks = header.querySelectorAll('.header__nav--mobile .header__nav-link');

      function openMenu() {
        header.classList.add('is-open');
        hamburger.setAttribute('aria-expanded', 'true');
        mobilePanel.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      }

      function closeMenu() {
        header.classList.remove('is-open');
        hamburger.setAttribute('aria-expanded', 'false');
        mobilePanel.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }

      if (hamburger) {
        hamburger.addEventListener('click', openMenu);
      }

      if (closeBtn) {
        closeBtn.addEventListener('click', closeMenu);
      }

      if (overlay) {
        overlay.addEventListener('click', closeMenu);
      }

      // Close menu when clicking on nav links
      mobileLinks.forEach(function(link) {
        link.addEventListener('click', closeMenu);
      });

      // Close menu on escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && header.classList.contains('is-open')) {
          closeMenu();
        }
      });
    });
  </script>
</body>
</html>
